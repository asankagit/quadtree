(()=>{var e={120:function(e,t){var n,r,o;r=this,o=function(){"use strict";const e=this;var t;function n(t){e.console&&(e.console.error?e.console.error(t):e.console.log&&e.console.log(t))}function r(e,t,r,o){const i=o||n,a=e.createShader(r);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(i("*** Error compiling shader '"+a+"':"+e.getShaderInfoLog(a)+"\n"+t.split("\n").map(((e,t)=>`${t+1}: ${e}`)).join("\n")),e.deleteShader(a),null)}function o(e,t,r,o,i){const a=i||n,c=e.createProgram();return t.forEach((function(t){e.attachShader(c,t)})),r&&r.forEach((function(t,n){e.bindAttribLocation(c,o?o[n]:n,t)})),e.linkProgram(c),e.getProgramParameter(c,e.LINK_STATUS)?c:(a("Error in program linking:"+e.getProgramInfoLog(c)),e.deleteProgram(c),null)}(t=t||e)===t.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","https://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html"));const i=["VERTEX_SHADER","FRAGMENT_SHADER"];function a(e,t){return t===e.SAMPLER_2D?e.TEXTURE_2D:t===e.SAMPLER_CUBE?e.TEXTURE_CUBE_MAP:void 0}function c(e,t){let n=0;function r(t,r){const o=e.getUniformLocation(t,r.name),i=r.type,c=r.size>1&&"[0]"===r.name.substr(-3);if(i===e.FLOAT&&c)return function(t){e.uniform1fv(o,t)};if(i===e.FLOAT)return function(t){e.uniform1f(o,t)};if(i===e.FLOAT_VEC2)return function(t){e.uniform2fv(o,t)};if(i===e.FLOAT_VEC3)return function(t){e.uniform3fv(o,t)};if(i===e.FLOAT_VEC4)return function(t){e.uniform4fv(o,t)};if(i===e.INT&&c)return function(t){e.uniform1iv(o,t)};if(i===e.INT)return function(t){e.uniform1i(o,t)};if(i===e.INT_VEC2)return function(t){e.uniform2iv(o,t)};if(i===e.INT_VEC3)return function(t){e.uniform3iv(o,t)};if(i===e.INT_VEC4)return function(t){e.uniform4iv(o,t)};if(i===e.BOOL)return function(t){e.uniform1iv(o,t)};if(i===e.BOOL_VEC2)return function(t){e.uniform2iv(o,t)};if(i===e.BOOL_VEC3)return function(t){e.uniform3iv(o,t)};if(i===e.BOOL_VEC4)return function(t){e.uniform4iv(o,t)};if(i===e.FLOAT_MAT2)return function(t){e.uniformMatrix2fv(o,!1,t)};if(i===e.FLOAT_MAT3)return function(t){e.uniformMatrix3fv(o,!1,t)};if(i===e.FLOAT_MAT4)return function(t){e.uniformMatrix4fv(o,!1,t)};if((i===e.SAMPLER_2D||i===e.SAMPLER_CUBE)&&c){const t=[];for(let e=0;e<info.size;++e)t.push(n++);return function(t,n){return function(r){e.uniform1iv(o,n),r.forEach((function(r,o){e.activeTexture(e.TEXTURE0+n[o]),e.bindTexture(t,r)}))}}(a(e,i),t)}if(i===e.SAMPLER_2D||i===e.SAMPLER_CUBE)return u=a(e,i),f=n++,function(t){e.uniform1i(o,f),e.activeTexture(e.TEXTURE0+f),e.bindTexture(u,t)};var u,f;throw"unknown type: 0x"+i.toString(16)}const o={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;++n){const i=e.getActiveUniform(t,n);if(!i)break;let a=i.name;"[0]"===a.substr(-3)&&(a=a.substr(0,a.length-3));const c=r(t,i);o[a]=c}return o}function u(e,...t){e=e.uniformSetters||e;for(const n of t)Object.keys(n).forEach((function(t){const r=e[t];r&&r(n[t])}))}function f(e,t){const n={};function r(t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(e.ARRAY_BUFFER,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||e.FLOAT,n.normalize||!1,n.stride||0,n.offset||0)}}const o=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<o;++i){const o=e.getActiveAttrib(t,i);if(!o)break;const a=e.getAttribLocation(t,o.name);n[o.name]=r(a)}return n}function s(e,t){e=e.attribSetters||e,Object.keys(t).forEach((function(n){const r=e[n];r&&r(t[n])}))}function l(e,t,n,r){const o=e.createVertexArray();return e.bindVertexArray(o),s(t,n),r&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bindVertexArray(null),o}function m(e,t,n){s(t,n.attribs),n.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.indices)}const v=["","MOZ_","OP_","WEBKIT_"];function g(e,t,n){return function(e,t){let n=0;return e.push=function(){for(let t=0;t<arguments.length;++t){const r=arguments[t];if(r instanceof Array||r.buffer&&r.buffer instanceof ArrayBuffer)for(let t=0;t<r.length;++t)e[n++]=r[t];else e[n++]=r}},e.reset=function(e){n=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}(new(n||Float32Array)(e*t),e)}function d(e,t,n,r){n=n||e.ARRAY_BUFFER;const o=e.createBuffer();return e.bindBuffer(n,o),e.bufferData(n,t,r||e.STATIC_DRAW),o}function _(e){return"indices"!==e}function A(e,t){if(t instanceof Int8Array)return e.BYTE;if(t instanceof Uint8Array)return e.UNSIGNED_BYTE;if(t instanceof Int16Array)return e.SHORT;if(t instanceof Uint16Array)return e.UNSIGNED_SHORT;if(t instanceof Int32Array)return e.INT;if(t instanceof Uint32Array)return e.UNSIGNED_INT;if(t instanceof Float32Array)return e.FLOAT;throw"unsupported typed array type"}function E(e){return e.buffer&&e.buffer instanceof ArrayBuffer}function p(e,t){let n;if(n=e.indexOf("coord")>=0?2:e.indexOf("color")>=0?4:3,t%n>0)throw"can not guess numComponents. You should specify it.";return n}function h(e,t){if(E(e))return e;if(e.data&&E(e.data))return e.data;Array.isArray(e)&&(e={data:e}),e.numComponents||(e.numComponents=p(t,e.length));let n=e.type;n||"indices"===t&&(n=Uint16Array);const r=g(e.numComponents,e.data.length/e.numComponents|0,n);return r.push(e.data),r}function b(e,t,n){const r=n||function(e){const t={};return Object.keys(e).filter(_).forEach((function(e){t["a_"+e]=e})),t}(t),o={};return Object.keys(r).forEach((function(n){const i=r[n],a=t[i];if(a.value)o[n]={value:a.value};else{const t=h(a,i);o[n]={buffer:d(e,t),numComponents:a.numComponents||t.numComponents||p(i),type:A(e,t),normalize:(c=t,c instanceof Int8Array||c instanceof Uint8Array)}}var c})),o}function T(e){return e.length?e:e.data}const x=/coord|texture/i,y=/color|colour/i;function p(e,t){let n;if(n=x.test(e)?2:y.test(e)?4:3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}const C=["position","positions","a_position"];function R(e,t,n,r,o){const i=t.indices;n=void 0===n?e.TRIANGLES:n;const a=void 0===r?t.numElements:r;o=void 0===o?0:o,i?e.drawElements(n,a,e.UNSIGNED_SHORT,o):e.drawArrays(n,o,a)}var S;return!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(S=HTMLCanvasElement.prototype.getContext,function(){let e=arguments;return"webgl"===e[0]&&(e=[].slice.call(arguments),e[0]="experimental-webgl"),S.apply(this,e)})),{createAugmentedTypedArray:g,createAttribsFromArrays:b,createBuffersFromArrays:function(e,t){const n={};return Object.keys(t).forEach((function(r){const o="indices"===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,i=h(t[r],name);n[r]=d(e,i,o)})),t.indices?n.numElements=t.indices.length:t.position&&(n.numElements=t.position.length/3),n},createBufferInfoFromArrays:function(e,t,n){const r={attribs:b(e,t,n)};let o=t.indices;return o?(o=h(o,"indices"),r.indices=d(e,o,e.ELEMENT_ARRAY_BUFFER),r.numElements=o.length):r.numElements=function(e){let t;for(const n of C)if(n in e){t=n;break}t=t||Object.keys(e)[0];const n=e[t],r=T(n).length,o=function(e,t){return e.numComponents||e.size||p(t,T(e).length)}(n,t),i=r/o;if(r%o>0)throw new Error(`numComponents ${o} not correct for length ${r}`);return i}(t),r},createAttributeSetters:f,createProgram:o,createProgramFromScripts:function(e,t,n){const r=e.createShader(e.VERTEX_SHADER);if(!r)return console.error("Failed to create vertex shader"),null;e.shaderSource(r,t),e.compileShader(r);const o=e.createShader(e.FRAGMENT_SHADER);if(!o)return console.error("Failed to create fragment shader"),null;e.shaderSource(o,n),e.compileShader(o);const i=e.createProgram();return i?(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),i):(console.error("Failed to create shader program"),null)},createProgramFromSources:function(e,t,n,a,c){const u=[];for(let n=0;n<t.length;++n)u.push(r(e,t[n],e[i[n]],c));return o(e,u,n,a,c)},createProgramInfo:function(e,t,n,r,o){t=t.map((function(e){const t=document.getElementById(e);return t?t.text:e}));const i=webglUtils.createProgramFromSources(e,t,n,r,o);return i?{program:i,uniformSetters:c(e,i),attribSetters:f(e,i)}:null},createUniformSetters:c,createVAOAndSetAttributes:l,createVAOFromBufferInfo:function(e,t,n){return l(e,t.attribSetters||t,n.attribs,n.indices)},drawBufferInfo:R,drawObjectList:function(e,t){let n=null,r=null;t.forEach((function(t){const o=t.programInfo,i=t.bufferInfo;let a=!1;o!==n&&(n=o,e.useProgram(o.program),a=!0),(a||i!==r)&&(r=i,m(e,o.attribSetters,i)),u(o.uniformSetters,t.uniforms),R(e,i)}))},glEnumToString:function(e,t){const n=[];for(const r in e)e[r]===t&&n.push(r);return n.length?n.join(" | "):`0x${t.toString(16)}`},getExtensionWithKnownPrefixes:function(e,t){for(let n=0;n<v.length;++n){const r=v[n]+t,o=e.getExtension(r);if(o)return o}},resizeCanvasToDisplaySize:function(e,t){t=t||1;const n=e.clientWidth*t|0,r=e.clientHeight*t|0;return(e.width!==n||e.height!==r)&&(e.width=n,e.height=r,!0)},setAttributes:s,setBuffersAndAttributes:m,setUniforms:u}},void 0===(n=function(){return o.call(r)}.apply(t,[]))||(e.exports=n)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{FlatGray:()=>a,GrayScale:()=>c,default:()=>u});const e=n(120);const t=(t,n,r=null)=>{const o=new Image;n.width&&!Number.isNaN(n.width)&&(o.width=n.width),n.height&&!Number.isNaN(n.height)&&(o.height=n.height),o.src=t,o.onload=function(){!function(t,n,r=null){var o=n.getContext("webgl");if(!o)return;const i=r?.vertex?r.vertex:"attribute vec2 a_position;\n    attribute vec2 a_texCoord;\n    \n    uniform vec2 u_resolution;\n    \n    varying vec2 v_texCoord;\n    \n    void main() {\n       // convert the rectangle from pixels to 0.0 to 1.0\n       vec2 zeroToOne = a_position / u_resolution;\n    \n       // convert from 0->1 to 0->2\n       vec2 zeroToTwo = zeroToOne * 2.0;\n    \n       // convert from 0->2 to -1->+1 (clipspace)\n       vec2 clipSpace = zeroToTwo - 1.0;\n    \n       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n       // pass the texCoord to the fragment shader\n       // The GPU will interpolate this value between points.\n       v_texCoord = a_texCoord;\n    }",a=r?.fragment?r.fragment:"precision mediump float;\n\n    // our texture\n    uniform sampler2D u_image;\n    uniform vec2 iResolution;\n    // the texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    \n    void main() {\n        vec2 uv = gl_FragCoord.xy / iResolution;\n    \n        // get pixel information from uv location\n        vec4 texColor = texture2D(u_image, v_texCoord).bgra;\n    \n        float intensity = fract(texColor.x * texColor.y * 2.5);\n    \n        //gl_FragColor = texture2D(u_image, v_texCoord).bgra;\n        vec4 color;\n        if (intensity > 0.8)\n            color = vec4(texColor.rgb, 1.0);\n        else if (intensity > 0.5)\n            color = vec4(texColor.rgb, .9);\n        else if (intensity > 0.25)\n            color = vec4(texColor.rgb, .4);\n        else\n            color = vec4(texColor.rgb, .5);\n        \n        float grayScale = (texColor.r + texColor.g + texColor.b) / 3.0;\n        gl_FragColor = vec4(grayScale, texColor.gb * 1.8, 1.0);\n    \n       \n    }";var c=e.createProgramFromScripts(o,i,a),u=o.getAttribLocation(c,"a_position"),f=o.getAttribLocation(c,"a_texCoord"),s=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,s),function(e,t,n,r,o){var i=0+r,a=0+o;e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,i,0,0,a,0,a,i,0,i,a]),e.STATIC_DRAW)}(o,0,0,t.width,t.height);var l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);var m=o.createTexture();o.bindTexture(o.TEXTURE_2D,m),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,t);var v=o.getUniformLocation(c,"u_resolution");e.resizeCanvasToDisplaySize(o.canvas),o.viewport(0,0,o.canvas.width,o.canvas.height),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.useProgram(c),o.enableVertexAttribArray(u),o.bindBuffer(o.ARRAY_BUFFER,s);var g=2,d=o.FLOAT,_=!1,A=0,E=0;o.vertexAttribPointer(u,g,d,_,A,E),o.enableVertexAttribArray(f),o.bindBuffer(o.ARRAY_BUFFER,l),g=2,d=o.FLOAT,_=!1,A=0,E=0,o.vertexAttribPointer(f,g,d,_,A,E),o.uniform2f(v,o.canvas.width,o.canvas.height);var p=o.TRIANGLES;E=0,o.drawArrays(p,E,6)}(o,n,r)}},o={vertex:"attribute vec2 a_position;\n    attribute vec2 a_texCoord;\n    \n    uniform vec2 u_resolution;\n    \n    varying vec2 v_texCoord;\n    \n    void main() {\n       // convert the rectangle from pixels to 0.0 to 1.0\n       vec2 zeroToOne =  a_position * vec2(1.0) / u_resolution;\n    \n       // convert from 0->1 to 0->2\n       vec2 zeroToTwo = zeroToOne * 2.0;\n    \n       // convert from 0->2 to -1->+1 (clipspace)\n       vec2 clipSpace = zeroToTwo - 1.0;\n    \n       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n       // pass the texCoord to the fragment shader\n       // The GPU will interpolate this value between points.\n       v_texCoord = a_texCoord;\n    }",fragment:"precision mediump float;\n\n    // our texture\n    uniform sampler2D u_image;\n    uniform vec2 iResolution;\n    // the texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    \n    void main() {\n        vec2 uv = gl_FragCoord.xy / iResolution * 20.0;\n    \n        // get pixel information from uv location\n        vec4 texColor = texture2D(u_image, v_texCoord).bgra;\n    \n        float grayScale = (texColor.r + texColor.g + texColor.b) / 3.0;\n        // float intensity = fract(texColor.x * texColor.y * .524584);\n        float intensity = fract(grayScale * 0.5378785741);\n    \n        //gl_FragColor = texture2D(u_image, v_texCoord).bgra;\n        vec4 color;\n\n        if (intensity > 0.5)\n            color = vec4(grayScale,grayScale,grayScale, 1.0);\n        else if (intensity > 0.25)\n            color = vec4(0.2, 0.3, 0.3, 1.0);\n        else\n            color = vec4(0.1, .10, .10, 1.0);\n        \n        gl_FragColor = color;\n    \n       \n    }"},i={vertex:"attribute vec2 a_position;\n    attribute vec2 a_texCoord;\n    \n    uniform vec2 u_resolution;\n    \n    varying vec2 v_texCoord;\n    \n    void main() {\n       // convert the rectangle from pixels to 0.0 to 1.0\n       vec2 zeroToOne =  a_position * vec2(1.0) / u_resolution;\n    \n       // convert from 0->1 to 0->2\n       vec2 zeroToTwo = zeroToOne * 2.0;\n    \n       // convert from 0->2 to -1->+1 (clipspace)\n       vec2 clipSpace = zeroToTwo - 1.0;\n    \n       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    \n       // pass the texCoord to the fragment shader\n       // The GPU will interpolate this value between points.\n       v_texCoord = a_texCoord;\n    }",fragment:"precision mediump float;\n\n    // our texture\n    uniform sampler2D u_image;\n    uniform vec2 iResolution;\n    // the texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    \n    void main() {\n        vec2 uv = gl_FragCoord.xy / iResolution * 20.0;\n    \n        // get pixel information from uv location\n        vec4 texColor = texture2D(u_image, v_texCoord).bgra;\n    \n        float grayScale = (texColor.r + texColor.g + texColor.b) / 3.0;\n        gl_FragColor = vec4(grayScale,grayScale,grayScale, 1.0);\n    \n       \n    }"},a=(e,n)=>{t(e,n,o)},c=(e,n)=>{t(e,n,i)},u=t})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();